---
title: 스프링 시큐리티 필터 체인 이해하기
date: 2023-09-25 20:00:00 +0900
categories:
  - Spring
tags:
  - Spring
  - 필터체인
---
## 필터 체인의 개념

필터 체인이란 웹 애플리케이션에서 요청과 응답을 처리하는 필터들의 연속입니다. 스프링 시큐리티에서는 이 필터 체인을 통해 다양한 보안 메커니즘이 구현됩니다.

## DelegatingFilterProxy의 역할

`DelegatingFilterProxy`는 스프링 시큐리티 필터 체인의 시작점입니다. 이 프록시 필터는 실제 보안 작업을 수행하는 다른 필터들을 관리하고, 요청이 들어올 때 적절한 필터에게 처리를 위임합니다.

## 필터 체인의 동작 과정

1. **요청 수신**: 웹 서버는 클라이언트로부터 요청을 받습니다.
2. **필터 선택**: `DelegatingFilterProxy`는 요청에 적합한 필터를 선택합니다.
3. **보안 처리**: 선택된 필터가 보안 검사를 진행합니다. 예를 들어, 인증 필터는 사용자가 누구인지 확인합니다.
4. **다음 필터로 이동**: 하나의 필터가 작업을 완료하면, 다음 필터로 요청과 응답이 전달됩니다.
5. **응답 반환**: 마지막 필터까지 도달하면 웹 서버는 클라이언트에게 응답을 반환합니다.

## 주요 필터의 종류

- `UsernamePasswordAuthenticationFilter`: 사용자 이름과 비밀번호를 통한 인증을 처리합니다.
- `JwtAuthenticationFilter`: JWT(Json Web Token)을 이용한 인증을 담당합니다.
- `CorsFilter`: CORS(Cross-Origin Resource Sharing, 다른 출처 간의 리소스 공유) 설정을 처리합니다.

## 예외 처리

스프링 시큐리티는 `AuthenticationException`과 같은 예외를 통해 보안 문제를 식별합니다. 이 예외들은 필터 체인에서 발생할 수 있으며, 적절한 대응이 필요합니다.

## 마무리

스프링 시큐리티의 필터 체인은 웹 애플리케이션의 보안을 강화하는 데 핵심적인 역할을 합니다. 이 체인을 이해하고 적절하게 설정하는 것은 안전한 웹 서비스를 제공하는 데 중요합니다.